import{_ as s,c as a,o as l,ag as t}from"./chunks/framework.DSvwVc1k.js";const p="/Tutorial/assets/444.B9Y6xp_D.gif",h="/Tutorial/assets/111.Bzik5Xsj.gif",n="/Tutorial/assets/555.Co9v4iak.gif",k="/Tutorial/assets/666.BdtCTbmM.gif",e="/Tutorial/assets/777.Awc051-s.gif",u=JSON.parse('{"title":"个人实战文档","description":"","frontmatter":{},"headers":[],"relativePath":"tutorial/JavaScript_My/12_WebApis实战.md","filePath":"tutorial/JavaScript_My/12_WebApis实战.md","lastUpdated":1750731332000}'),r={name:"tutorial/JavaScript_My/12_WebApis实战.md"};function d(o,i,g,y,E,c){return l(),a("div",null,i[0]||(i[0]=[t('<h1 id="个人实战文档" tabindex="-1">个人实战文档 <a class="header-anchor" href="#个人实战文档" aria-label="Permalink to &quot;个人实战文档&quot;">​</a></h1><p>本次实战是对自己整个 api 阶段的总结。</p><p>参考效果如下地址：</p><p><a href="http://erabbit.itheima.net/#/product/3995139" target="_blank" rel="noreferrer">http://erabbit.itheima.net/#/product/3995139</a></p><p>本次实战主要分为以下几个模块。</p><h2 id="顶部导航模块" tabindex="-1">顶部导航模块 <a class="header-anchor" href="#顶部导航模块" aria-label="Permalink to &quot;顶部导航模块&quot;">​</a></h2><img src="'+p+'"><p>需求：</p><ol><li>顶部导航开始不显示</li><li>等页面滑到主导航栏，这个<strong>新顶部导航栏滑动下拉显示</strong>，并且改为固定定位</li><li>等页面滑到上面，新顶部导航栏隐藏</li></ol><h2 id="图片切换模块" tabindex="-1">图片切换模块 <a class="header-anchor" href="#图片切换模块" aria-label="Permalink to &quot;图片切换模块&quot;">​</a></h2><img src="'+h+'"><h2 id="放大镜效果" tabindex="-1">放大镜效果 <a class="header-anchor" href="#放大镜效果" aria-label="Permalink to &quot;放大镜效果&quot;">​</a></h2><img src="'+n+`"><p>业务分析：</p><p>①：鼠标经过对应小盒子，左侧中等盒子显示对应中等图片</p><p>②： 鼠标经过中盒子，右侧会显示放大镜效果的大盒子</p><p>③： 黑色遮罩盒子跟着鼠标来移动</p><p>④： 鼠标在中等盒子上移动，大盒子的图片跟着显示对应位置</p><p>思路分析：</p><p>①：鼠标经过小盒子，左侧中等盒子显示对应中等图片</p><ol><li>获取对应的元素</li><li>采取事件委托的形式，监听鼠标经过小盒子里面的图片， 注意此时需要使用 <code>mouseover</code> 事件，因为需要事件冒泡触发 small</li><li>让鼠标经过小图片的爸爸 li 盒子，添加类，其余的 li 移除类（注意先移除，后添加）</li><li>鼠标经过小图片，可以拿到小图片的 src， 可以做两件事 <ul><li>让中等盒子的图片换成这个 这个小图片的 src</li><li>让大盒子的背景图片，也换成这个小图片的 src （稍后做）</li></ul></li></ol><p>②： 鼠标经过中等盒子，右侧大盒子显示</p><ol><li><p>用到鼠标经过和离开，鼠标经过中盒子，大盒子 利用 display 来显示和隐藏</p></li><li><p>鼠标离开不会立马消失，而是有 200ms 的延时，用户体验更好，所以尽量使用定时器做个延时 setTimeout</p></li><li><p>显示和隐藏也尽量定义一个函数，因为鼠标经过离开中等盒子，会显示隐藏，同时，<strong>鼠标经过大盒子，也会显示和隐藏</strong></p></li><li><p>给大盒子里面的背景图片一个默认的第一张图片</p><p>​</p></li></ol><p>③： 黑色遮罩盒子跟着鼠标来移动</p><ol><li><p>先做鼠标经过 中等盒子，显示隐藏 黑色遮罩 的盒子</p></li><li><p>让黑色遮罩跟着鼠标来走, 需要用到鼠标移动事件 mousemove</p></li><li><p>让黑色盒子的移动的核心思想：不断把鼠标在中等盒子内的坐标给黑色遮罩层 let top 值，这样遮罩层就可以跟着移动了</p><ul><li><p>需求</p><ul><li>我们要的是 鼠标在 中等盒子内的坐标， 没有办法直接得到</li><li>得到 1： 鼠标在页面中的坐标</li><li>得到 2： 中等盒子在页面中的坐标</li></ul></li><li><p>算法</p><ul><li>得到鼠标在页面中的坐标 利用事件对象的 pageX</li><li>得到 middle 中等盒子在页面中的坐标 middle.getBoundingClientRect()</li><li>鼠标在 middle 盒子里面的坐标 = 鼠标在页面中的坐标 - middle 中等盒子的坐标</li><li>黑色遮罩层不断得到 鼠标在 middle 盒子中的坐标 就可以移动起来了</li></ul><blockquote><p>注意 y 坐标特殊，需要减去 页面被卷去的头部</p><p>为什么不用 box.offsetLet 和 box.offsetTop 因为这俩属性跟带有定位的父级有关系，很容被父级影响，而 getBoundingClientRect() 不受定位的父元素的影响</p></blockquote></li><li><p>限定遮罩的盒子只能在 middle 内部移动，需要添加判断</p><ul><li>限定水平方向 大于等于 0 并且小于等于 400</li><li>限定垂直方向 大于等于 0 并且小于等于 400</li></ul></li><li><p>遮罩盒子移动的坐标：</p><ul><li>声明一个 mx 作为移动的距离</li><li>水平坐标 x 如果 小于等于 100 ，则移动的距离 mx 就是 0 不应该移动</li><li>水平坐标 如果 大于等于 100 并且小于 300，移动的距离就是 mx - 100 （100 是遮罩盒子自身宽度的一半）</li><li>水平坐标 如果 大于等于 300，移动的距离就是 mx 就是 200 不应该在移动了</li><li>其实我们发现水平移动， 就在 100 ~ 200 之间移动的</li><li>垂直同理</li></ul></li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  my </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) mx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) mx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) mx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) my </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) my </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) my </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span></span></code></pre></div><ul><li>大盒子图片移动的计算方法： <ul><li>中等盒子是 400px 大盒子 是 800px 的图片</li><li>中等盒子移动 1px， 大盒子就应该移动 2px， 只不过是负值</li></ul></li></ul><div class="language-JavaScript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JavaScript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">large.style.backgroundPositionX </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;px&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">large.style.backgroundPositionY </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> my </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;px&#39;</span></span></code></pre></div><p>放大镜完整代码：</p><p>​</p></li></ol><h2 id="其他模块" tabindex="-1">其他模块 <a class="header-anchor" href="#其他模块" aria-label="Permalink to &quot;其他模块&quot;">​</a></h2><p>此模块可以根据自己时间添加</p><h3 id="点击模块" tabindex="-1">点击模块 <a class="header-anchor" href="#点击模块" aria-label="Permalink to &quot;点击模块&quot;">​</a></h3><img src="`+k+'"><h3 id="tab-栏切换模块" tabindex="-1">tab 栏切换模块 <a class="header-anchor" href="#tab-栏切换模块" aria-label="Permalink to &quot;tab 栏切换模块&quot;">​</a></h3><img src="'+e+'"><h3 id="返回顶部模块" tabindex="-1">返回顶部模块 <a class="header-anchor" href="#返回顶部模块" aria-label="Permalink to &quot;返回顶部模块&quot;">​</a></h3><p>页面滚动底部，可以出现一个侧边栏，点击返回顶部，可以返回顶部</p>',33)]))}const m=s(r,[["render",d]]);export{u as __pageData,m as default};
